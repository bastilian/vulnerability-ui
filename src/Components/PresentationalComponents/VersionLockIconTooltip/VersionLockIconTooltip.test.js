import VersionLockIconTooltip from './VersionLockIconTooltip';
import { render, screen, waitFor } from '@testing-library/react';
import '@testing-library/jest-dom';
import userEvent from '@testing-library/user-event';

describe('VersionLockIconTooltip', () => {
    it('display tooltip with data', async () => {
        render(
            <VersionLockIconTooltip rhsmLock='8.1' osName='RHEL 8.1' />
        );

        const hoverBox = screen.getByTestId('version-lock-icon');

        userEvent.hover(hoverBox);

        await waitFor(() => {
            expect (screen.queryByRole('tooltip')).toBeVisible();
            expect(screen.queryByRole('tooltip')).toHaveTextContent(
                'Your RHEL version is locked at version 8.1'
            );
        });
    });
});
